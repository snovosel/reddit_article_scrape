<!DOCTYPE html>

<head>
  <title> Test Result page </title>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <script type=text/javascript>
  
    $(function() {
      $('a.add_to_favorites').bind('click', function() {

        var post = $(this).attr('id')

        $.ajax({

            type : 'POST',
            url : '/add_to_favorites' + '/' + post,

        });

        console.log(post)

      });
    });
  </script>

</head>
<body>

<h3> Top posts </h3>
<br>

<a href='/subchoice'> Home </a>

  <table>
    <tr>
      {% for post in data[0:5] %}
      <td>
        <div >
          <p id="{{post['title']}}"> {{ post['title'] }} </p>
          <p id="{{ post['score'] }}"> {{ post['score'] }} </p>
          <p id="{{ post['url'] }}"> {{ post['url'] }} </p>
        </div>
        <div> <a href='#' id="{{data.index(post)}}" class='add_to_favorites' name='post'><button> Add To Favorites </button></a> </div>
      </td>
      {% endfor %}
    </tr>
  </table>

</body>
