<!DOCTYPE html>

<head>
  <title> Test Result page </title>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <script type=text/javascript>

    $(function() {
      $('a.add_to_favorites').bind('click', function() {

        var post = $(this).attr('id')

        $.ajax({

            type : 'POST',
            url : '/add_to_favorites' + '/' + post,

        });

        console.log(post)

      });
    });
  </script>

</head>
<body>

<h3> Top posts </h3>
<br>

<a href='/subchoice'> Home </a>

  <table>
    <tr>
        {% for post in posts %}
      <td>
        <div >
          <a href="{{ post.url}}"> {{ post.title }} </a>
          <p id="{{ post.score }}"> {{ post.score }} </p>
        </div>
        <div> <a href='#' id="{{ post.id }}" class='add_to_favorites' name='post'><button> Add To Favorites </button></a> </div>
      </td>
      {% endfor %}
    </tr>
  </table>

</body>
